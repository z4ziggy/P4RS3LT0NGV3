// Emoji Library for P4RS3LT0NGV3

// Create namespace for emoji library
window.emojiLibrary = {};

// Make emoji list globally available
window.emojiLibrary.EMOJI_LIST = [
    // Faces and People
    "ğŸ˜€", // Grinning Face
    "ğŸ˜", // Beaming Face with Smiling Eyes
    "ğŸ˜‚", // Face with Tears of Joy
    "ğŸ¤£", // Rolling on the Floor Laughing
    "ğŸ˜ƒ", // Grinning Face with Big Eyes
    "ğŸ˜„", // Grinning Face with Smiling Eyes
    "ğŸ˜…", // Grinning Face with Sweat
    "ğŸ˜†", // Grinning Squinting Face
    "ğŸ˜‰", // Winking Face
    "ğŸ˜Š", // Smiling Face with Smiling Eyes
    "ğŸ˜‹", // Face Savoring Food
    "ğŸ˜", // Smiling Face with Sunglasses
    "ğŸ˜", // Smiling Face with Heart-Eyes
    "ğŸ˜˜", // Face Blowing a Kiss
    "ğŸ¥°", // Smiling Face with Hearts
    "ğŸ˜—", // Kissing Face
    "ğŸ˜™", // Kissing Face with Smiling Eyes
    "ğŸ˜š", // Kissing Face with Closed Eyes
    "ğŸ™‚", // Slightly Smiling Face
    "ğŸ¤—", // Hugging Face
    "ğŸ¤©", // Star-Struck
    "ğŸ¤”", // Thinking Face
    "ğŸ¤¨", // Face with Raised Eyebrow
    "ğŸ˜", // Neutral Face
    "ğŸ˜‘", // Expressionless Face
    "ğŸ˜¶", // Face Without Mouth
    "ğŸ™„", // Face with Rolling Eyes
    "ğŸ˜", // Smirking Face
    "ğŸ˜£", // Persevering Face
    "ğŸ˜¥", // Sad but Relieved Face
    "ğŸ˜®", // Face with Open Mouth
    "ğŸ¤", // Zipper-Mouth Face
    "ğŸ˜¯", // Hushed Face
    "ğŸ˜ª", // Sleepy Face
    "ğŸ˜«", // Tired Face
    "ğŸ˜´", // Sleeping Face
    "ğŸ˜Œ", // Relieved Face
    "ğŸ˜›", // Face with Tongue
    "ğŸ˜œ", // Winking Face with Tongue
    "ğŸ˜", // Squinting Face with Tongue
    "ğŸ¤¤", // Drooling Face
    "ğŸ˜’", // Unamused Face
    "ğŸ˜“", // Downcast Face with Sweat
    "ğŸ˜”", // Pensive Face
    "ğŸ˜•", // Confused Face
    "ğŸ™ƒ", // Upside-Down Face
    "ğŸ¤‘", // Money-Mouth Face
    "ğŸ˜²", // Astonished Face
    "ğŸ™", // Slightly Frowning Face
    "ğŸ˜–", // Confounded Face
    "ğŸ˜", // Disappointed Face
    "ğŸ˜Ÿ", // Worried Face
    "ğŸ˜¤", // Face with Steam From Nose
    "ğŸ˜¢", // Crying Face
    "ğŸ˜­", // Loudly Crying Face
    "ğŸ˜§", // Anguished Face
    "ğŸ˜¨", // Fearful Face
    "ğŸ˜©", // Weary Face
    "ğŸ¤¯", // Exploding Head
    "ğŸ˜±", // Face Screaming in Fear
    "ğŸ˜³", // Flushed Face
    "ğŸ¥µ", // Hot Face
    "ğŸ¥¶", // Cold Face
    "ğŸ˜¡", // Pouting Face
    "ğŸ˜ ", // Angry Face
    "ğŸ¤¬", // Face with Symbols on Mouth
    "ğŸ˜·", // Face with Medical Mask
    "ğŸ¤’", // Face with Thermometer
    "ğŸ¤•", // Face with Head-Bandage
    "ğŸ¤¢", // Nauseated Face
    "ğŸ¤®", // Face Vomiting
    "ğŸ¤§", // Sneezing Face
    "ğŸ˜‡", // Smiling Face with Halo
    "ğŸ¥³", // Partying Face
    "ğŸ¥´", // Woozy Face
    "ğŸ¥º", // Pleading Face
    "ğŸ§", // Face with Monocle
    "ğŸ¥±", // Yawning Face
    "ğŸ§ ", // Brain
    
    // Gestures and Body Parts
    "ğŸ‘", // Thumbs Up
    "ğŸ‘", // Thumbs Down
    "ğŸ‘", // Clapping Hands
    "ğŸ™Œ", // Raising Hands
    "ğŸ¤", // Handshake
    "ğŸ‘‹", // Waving Hand
    "âœŒï¸", // Victory Hand
    "ğŸ¤Ÿ", // Love-You Gesture
    "ğŸ¤˜", // Sign of the Horns
    "ğŸ‘Š", // Oncoming Fist
    "âœŠ", // Raised Fist
    "ğŸ‘†", // Backhand Index Pointing Up
    "ğŸ‘‡", // Backhand Index Pointing Down
    "ğŸ‘ˆ", // Backhand Index Pointing Left
    "ğŸ‘‰", // Backhand Index Pointing Right
    "ğŸ‘Œ", // OK Hand
    "ğŸ¤Œ", // Pinched Fingers
    "ğŸ¤", // Pinching Hand
    "âœ‹", // Raised Hand
    "ğŸ¤š", // Raised Back of Hand
    "ğŸ–ï¸", // Hand with Fingers Splayed
    "ğŸ––", // Vulcan Salute
    "ğŸ‘€", // Eyes
    "ğŸ‘ï¸", // Eye
    "ğŸ‘„", // Mouth
    "ğŸ§¿", // Nazar Amulet
    
    // Celebration & Objects
    "ğŸ‰", // Party Popper
    "ğŸŠ", // Confetti Ball
    "ğŸ‚", // Birthday Cake
    "ğŸ", // Wrapped Gift
    "ğŸˆ", // Balloon
    "ğŸ„", // Christmas Tree
    "ğŸƒ", // Jack-O-Lantern
    "ğŸ†", // Trophy
    "ğŸ…", // Sports Medal
    "ğŸ¥‡", // 1st Place Medal
    "ğŸ¥ˆ", // 2nd Place Medal
    "ğŸ¥‰", // 3rd Place Medal
    "ğŸ’°", // Money Bag
    "ğŸ’¸", // Money with Wings
    "ğŸ’µ", // Dollar Banknote
    "ğŸ’´", // Yen Banknote
    "ğŸ’¶", // Euro Banknote
    "ğŸ’·", // Pound Banknote
    "ğŸ’¯", // Hundred Points
    "ğŸ“±", // Mobile Phone
    "ğŸ’»", // Laptop
    "âŒ¨ï¸", // Keyboard
    "ğŸ–¥ï¸", // Desktop Computer
    "ğŸ”’", // Locked
    "ğŸ”“", // Unlocked
    
    // Food & Drink
    "ğŸ•", // Pizza
    "ğŸ”", // Hamburger
    "ğŸ¦", // Ice Cream
    "ğŸ©", // Doughnut
    "ğŸº", // Beer Mug
    "ğŸ·", // Wine Glass
    "â˜•", // Hot Beverage
    
    // Nature & Weather
    "ğŸŒˆ", // Rainbow
    "ğŸŒ", // Sun with Face
    "ğŸŒ™", // Crescent Moon
    "â­", // Star
    "ğŸŒŸ", // Glowing Star
    "âš¡", // High Voltage
    "â„ï¸", // Snowflake
    "ğŸ”¥", // Fire
    "ğŸ’§", // Droplet
    "ğŸŒŠ", // Water Wave
    
    // Animals
    "ğŸ±", // Cat Face
    "ğŸ¶", // Dog Face
    "ğŸ¦Š", // Fox
    "ğŸ¼", // Panda
    "ğŸ¦", // Lion
    "ğŸ¬", // Dolphin
    "ğŸ¦„", // Unicorn
    
    // Symbols & Special
    "â¤ï¸", // Red Heart
    "ğŸ§¡", // Orange Heart
    "ğŸ’š", // Green Heart
    "ğŸ’™", // Blue Heart
    "ğŸ’œ", // Purple Heart
    "ğŸš€", // Rocket
    "ğŸ‘€", // Eyes
    "ğŸ’€", // Skull
    "ğŸ¥¹", // Face Holding Back Tears
    "ğŸ", // Snake
    "ğŸ‰", // Dragon
    "ğŸ²", // Dragon Face
    "ğŸ§™â€â™‚ï¸", // Wizard 
    "ğŸª„", // Magic Wand 
    "ğŸ´â€â˜ ï¸", // Pirate Flag
    "ğŸ¦…", // Eagle (often associated with pirates)
    "ğŸ¦œ", // Parrot (pirate symbol)
    "ğŸ’»", // Laptop (hacker symbol)
    "ğŸ•¶ï¸", // Sunglasses (cool guy symbol)
    "ğŸ§‘â€ğŸ’»", // Technologist
    "ğŸ‘¨â€ğŸ’»", // Man Technologist
    "ğŸ‘©â€ğŸ’»", // Woman Technologist
    "ğŸ•µï¸", // Detective
    "ğŸ•µï¸â€â™‚ï¸", // Man Detective
    "ğŸ•µï¸â€â™€ï¸", // Woman Detective
    "ğŸ–¥ï¸", // Desktop Computer
    "âŒ¨ï¸", // Keyboard
    "ğŸ–±ï¸", // Computer Mouse
    "ğŸ•¹ï¸", // Joystick
    "ğŸ“±", // Mobile Phone
    "ğŸ“²", // Mobile Phone with Arrow
    "ğŸ”“", // Unlocked (hacker symbol)
    "ğŸ”‘", // Key (hacker symbol)
    "ğŸ—ï¸", // Old Key (hacker symbol)
    "ğŸ›¡ï¸", // Shield (hacker symbol)
    "âš”ï¸", // Crossed Swords (hacker symbol)
    "ğŸ§¬", // DNA (hacker symbol)
    "ğŸ§«", // Petri Dish (hacker symbol)
    "ğŸ§ª", // Test Tube (hacker symbol)
    "ğŸ› ï¸", // Hammer and Wrench (hacker symbol)
    "âš™ï¸", // Gear (hacker symbol)
    "ğŸ§°", // Toolbox (hacker symbol)
    "ğŸ§²", // Magnet (hacker symbol)
    "ğŸ’£", // Bomb (hacker symbol)
    "ğŸ•³ï¸", // Hole (hacker symbol)
    "ğŸ“¡", // Satellite Antenna (hacker symbol)
    "ğŸ›°ï¸", // Satellite (hacker symbol)
    "ğŸ“", // Telephone Receiver (hacker symbol)
    "â˜ï¸", // Telephone (hacker symbol)
    "ğŸ“Ÿ", // Pager (hacker symbol)
    "ğŸ“ ", // Fax Machine (hacker symbol)
    "ğŸ”Œ", // Electric Plug (hacker symbol)
    "ğŸ’¡", // Light Bulb (hacker symbol)
    "ğŸ”¦", // Flashlight (hacker symbol)
    "ğŸ•¯ï¸", // Candle (hacker symbol)
    "ğŸ—ï¸", // Rolled-Up Newspaper (hacker symbol)
    "ğŸ“œ", // Scroll (hacker symbol)
    "ğŸ“ƒ", // Page with Curl (hacker symbol)
    "ğŸ“„", // Page Facing Up (hacker symbol)
    "ğŸ“‘", // Bookmark Tabs (hacker symbol)
    "ğŸ“Š", // Bar Chart (hacker symbol)
    "ğŸ“ˆ", // Chart Increasing (hacker symbol)
    "ğŸ“‰", // Chart Decreasing (hacker symbol)
    "ğŸ—‚ï¸", // Card Index Dividers (hacker symbol)
    "ğŸ—ƒï¸", // Card File Box (hacker symbol)
    "ğŸ—„ï¸", // File Cabinet (hacker symbol)
    "ğŸ—‘ï¸", // Wastebasket (hacker symbol)
    "ğŸ›¢ï¸", // Oil Drum (hacker symbol)
    "ğŸ›ï¸", // Bellhop Bell (hacker symbol)
    "ğŸ§³", // Luggage (hacker symbol)
    "ğŸ›Œ", // Person in Bed (hacker symbol)
    "ğŸ›ï¸", // Bed (hacker symbol)
    "ğŸ›‹ï¸", // Couch and Lamp (hacker symbol)
    "ğŸª‘", // Chair (hacker symbol)
    "ğŸšª", // Door (hacker symbol)
    "ğŸ§´", // Lotion Bottle (hacker symbol)
    "ğŸ§·", // Safety Pin (hacker symbol)
    "ğŸ§¹", // Broom (hacker symbol)
    "ğŸ§º", // Basket (hacker symbol)
    "ğŸ§»", // Roll of Paper (hacker symbol)
    "ğŸ§¼", // Soap (hacker symbol)
    "ğŸ§½", // Sponge (hacker symbol)
    "ğŸ§¯", // Fire Extinguisher (hacker symbol)
    "ğŸ›’", // Shopping Cart (hacker symbol)
    "ğŸš¬", // Cigarette (hacker symbol)
    "âš°ï¸", // Coffin (hacker symbol)
    "âš±ï¸", // Funeral Urn (hacker symbol)
    "ğŸ—¿", // Moai (hacker symbol)
    "ğŸ›‚", // Passport Control (hacker symbol)
    "ğŸ›ƒ", // Customs (hacker symbol)
    "ğŸ›„", // Baggage Claim (hacker symbol)
    "ğŸ›…", // Left Luggage (hacker symbol)
    "ğŸš¹", // Men's Room (hacker symbol)
    "ğŸšº", // Women's Room (hacker symbol)
    "ğŸš¼", // Baby Symbol (hacker symbol)
    "ğŸš»", // Restroom (hacker symbol)
    "ğŸš®", // Litter in Bin Sign (hacker symbol)
    "ğŸš°", // Potable Water (hacker symbol)
    "ğŸš¾", // Water Closet (hacker symbol)
    "ğŸš­", // No Smoking (hacker symbol)
    "ğŸš¯", // No Littering (hacker symbol)
    "ğŸš±", // Non-Potable Water (hacker symbol)
];

// Function to render emoji grid
window.emojiLibrary.renderEmojiGrid = function(containerId, onEmojiSelect, filteredList) {
    console.log('Rendering emoji grid to:', containerId);
    
    // Get container by ID
    const container = document.getElementById(containerId);
    if (!container) {
        console.error('Container not found:', containerId);
        return;
    }
    
    // Clear container
    container.innerHTML = '';
    
    // Create emoji grid with enforced styling
    const gridContainer = document.createElement('div');
    gridContainer.className = 'emoji-grid';
    
    // Force grid styling
    gridContainer.style.display = 'grid';
    gridContainer.style.gridTemplateColumns = 'repeat(auto-fill, minmax(50px, 1fr))';
    gridContainer.style.gap = '8px';
    gridContainer.style.padding = '15px';
    gridContainer.style.maxHeight = '300px';
    gridContainer.style.overflowY = 'auto';
    gridContainer.style.border = '1px solid #ccc';
    gridContainer.style.borderRadius = '4px';
    gridContainer.style.margin = '10px 0';
    
    // Add a message showing we're displaying all emojis
    const fullLibraryNote = document.createElement('div');
    fullLibraryNote.className = 'emoji-grid-note';
    fullLibraryNote.innerHTML = '<i class="fas fa-magic"></i> Click an emoji to automatically copy your hidden message';
    fullLibraryNote.style.padding = '10px';
    fullLibraryNote.style.marginBottom = '10px';
    fullLibraryNote.style.backgroundColor = 'rgba(0,0,0,0.05)';
    fullLibraryNote.style.borderRadius = '4px';
    fullLibraryNote.style.textAlign = 'center';
    container.appendChild(fullLibraryNote);
    
    // Always use full emoji list - search removed
    // Use the provided filtered list if available, otherwise default to full list
    // This ensures we always show ALL emojis regardless of input state
    const emojisToShow = filteredList && filteredList.length > 0 ? filteredList : window.emojiLibrary.EMOJI_LIST;
    console.log(`Adding ${emojisToShow.length} emojis to grid`);
    
    // Add emojis to grid with enforced styling
    emojisToShow.forEach(emoji => {
        const emojiButton = document.createElement('button');
        emojiButton.className = 'emoji-button';
        emojiButton.textContent = emoji; // Use textContent for better emoji handling
        emojiButton.title = 'Click to encode with this emoji';
        
        // Force button styling
        emojiButton.style.fontSize = '24px';
        emojiButton.style.padding = '8px';
        emojiButton.style.border = '1px solid #ddd';
        emojiButton.style.borderRadius = '8px';
        emojiButton.style.cursor = 'pointer';
        emojiButton.style.backgroundColor = '#fff';
        emojiButton.style.transition = 'transform 0.1s';
        
        // Add hover effect
        emojiButton.onmouseover = function() { 
            this.style.transform = 'scale(1.1)';
            this.style.boxShadow = '0 0 5px rgba(0,0,0,0.2)';
        };
        emojiButton.onmouseout = function() { 
            this.style.transform = 'scale(1)';
            this.style.boxShadow = 'none';
        };
        
        emojiButton.addEventListener('click', () => {
            if (typeof onEmojiSelect === 'function') {
                onEmojiSelect(emoji);
                // Add visual feedback when clicked
                emojiButton.style.backgroundColor = '#e6f7ff';
                setTimeout(() => {
                    emojiButton.style.backgroundColor = '#fff';
                }, 300);
            }
        });
        
        gridContainer.appendChild(emojiButton);
    });
    
    container.appendChild(gridContainer);
    console.log('Emoji grid rendering complete');
    
    // Force container to be visible
    container.style.display = 'block !important';
    container.style.visibility = 'visible !important';
    
    // Debug info - add count display
    const countDisplay = document.createElement('div');
    countDisplay.className = 'emoji-count';
    countDisplay.textContent = `${emojisToShow.length} emojis available`;
    container.appendChild(countDisplay);
};
